{% extends 'base.html' %}
{% load static %}
{% block content %}

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body {
    font-family: Arial;
  }

<<<<<<< HEAD

=======
  /* Style the tab */
>>>>>>> 917cf3a63d1ec13610a579217201b02adc2e4764
  .tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
  }

<<<<<<< HEAD

=======
  /* Style the buttons inside the tab */
>>>>>>> 917cf3a63d1ec13610a579217201b02adc2e4764
  .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
    font-size: 17px;
  }

<<<<<<< HEAD
  .tab button:hover {
    background-color: #ddd;
  }
  .tab button.active {
    background-color: #ccc;
  }
=======
  /* Change background color of buttons on hover */
  .tab button:hover {
    background-color: #ddd;
  }

  /* Create an active/current tablink class */
  .tab button.active {
    background-color: #ccc;
  }

  /* Style the tab content */
>>>>>>> 917cf3a63d1ec13610a579217201b02adc2e4764
  .tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
  }

  h2.create {
    color: white;
    font-family: auto;
    background-color: #382250fa;
    width: 125px;
  }

  .booktab {
    background-color: #fff;
    border-radius: 10px;
    width: 98%;
    margin-top: 49px;
  }
</style>


{% if messages %}
<ul class="messages">
  {% for message in messages %}
  <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
  {% endfor %}
</ul>
{% endif %}


<ul class="nav nav-tabs" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" data-toggle="tab" href="#menu1">Book Collection</a>
  </li>
</ul>



<div class="tab-content py-3 booktab">
  <div id="menu1" class="container tab-pane  active"><br>
    <h3> Book Collections</h3>
    <form class="row" method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="col-md-6 form-group">
        <label for="email">Collection:</label>
        <input type="text" class="form-control" id="email" placeholder="Enter Title" name="name" required="">
      </div>

      <div class="col-md-6 form-group">
        <label for="pwd">Cover Image</label>
        <input type="file" class="form-control" id="pwd" name="image" required="">
      </div>



      <div class="container-fluid">
        <div class="card shadow mb-4">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-striped" id="example">
                <thead>
                  <tr>
                    <th>Sr No</th>
                    <th>Collection</th>
                    <th>Image</th>

                    <th>Title</th>
                    <th>Authors</th>
                    <th>Price</th>
                    <th>Pub Date</th>

                    <th>Category</th>


                    <!-- <th> <div class="buttonView">
                                        View all
                                      </div> </th> -->
                    <!-- <th>Status</th> -->

                  </tr>
                </thead>
                <tbody>
                  {% for data in data %}
                  <td>
                    {{forloop.counter}}</a>
                  </td>
                  <td>
                    <input type="checkbox" name="books" value="{{ data.id }}">

                  </td>

                  <td>
                    {% if data.image %}
                    <img src="{{data.image.url}}" style="height: .6in; width:2cm;" alt="">
                    {% endif %}
                  </td>

                  <td>{{data.title}}</td>
                  <td>{{data.author}}</td>
                  <td>{{data.price}}</td>
                  <td>{{data.publication_date}}</td>
                  <td>{{data.category.book_category}}</td>


                  <!-- <td> <div class="iconView"> <a href="#"><i class="fa fa-eye"></i></a> </div></td> -->
                  </td>
                  </tr>
                  {% endfor %}
                </tbody>

              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 form-group align-right">
        <button type="submit" class="btn btn-primary mt-0">Submit</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
<script>
  const checkboxes = document.querySelectorAll('input[type="checkbox"]');
  checkboxes.forEach((checkbox) => {
    const bookId = checkbox.getAttribute('data-book-id');
    const storedState = localStorage.getItem(`checkbox_${bookId}`);

    if (storedState === 'checked') {
      checkbox.checked = true;
    }
    checkbox.addEventListener('change', () => {
      const isChecked = checkbox.checked;
      localStorage.setItem(`checkbox_${bookId}`, isChecked ? 'checked' : 'unchecked');
    });
  });

</script>